<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 4</title>
    <script>
        function iniciar() {
            //Creamos los eventos
            document.getElementById("comprueba").addEventListener("click", compruebaFecha);
        }

        function compruebaFecha() {
            //Cojemos el valor de la fecha
            let fecha = document.getElementById("fecha").value;
            //Formato: Espera un numero del 0 al 9 o espera un 1 o 2, seguido de 0 o 9, o espera un 3 seguido de 0 o 1: esto luego espera - o /: seguido de esto espera 0 seguido de 1 a 9 o un 1 seguido de 1 o 2: Y finalmente 4 numeros del 0 al 9
            let formato = /^([1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/(\d{4})$/;

            let conf = fecha.match(formato); //Comprobamos que sigue el formato

            if (conf != null) { //Si es distinto de null, la fecha es correcta
                document.getElementById("fecha").style = "background: none;";
                alert("La fecha es correcta");
            } else {
                document.getElementById("fecha").style = "background: red;";
                alert("Fecha incorrecta. Revisa que el formato sea dd/mm/yyyy");
            }
        }

    </script>
</head>

<body onload="iniciar()">
    <label for="fecha">Escribe una fecha</label>
    <br>
    <input type="text" id="fecha">
    <br>
    <button id="comprueba">Comprobar si la fecha es correcta</button>
</body>

</html>
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 5</title>
    <script>
        function iniciar() {
            document.getElementById("comprueba").addEventListener("click", compruebaFecha);
        }

        function compruebaFecha() {
            let fecha = document.getElementById("fecha").value;

            let formato = /^([1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/(\d{4})$/;

            let conf = fecha.match(formato); //Lo mismo del 4

            if (conf != null) { //Si es distinto de null
                let formateo = fecha.split("/"); // Separamos la fecha por /
                document.getElementById("fecha").style = "background: none;";
                document.getElementById("dia").value = formateo[0];
                document.getElementById("mes").value = formateo[1];
                document.getElementById("anio").value = formateo[2];
                //Y seteamos los valores a su valor correspondiente
            } else {
                document.getElementById("fecha").style = "background: red;";
                alert("Fecha incorrecta. Revisa que el formato sea dd/mm/yyyy");
            }
        }

    </script>
</head>

<body onload="iniciar()">
    <label for="fecha">Escribe una fecha</label>
    <br>
    <input type="text" id="fecha">
    <br>
    <label for="dia">Dia</label>
    <br>
    <input type="text" id="dia" disabled>
    <br>
    <label for="mes">Mes</label>
    <br>
    <input type="text" id="mes" disabled>
    <br>
    <label for="anio">Anio</label>
    <br>
    <input type="text" id="anio" disabled>
    <br>
    <button id="comprueba">Comprobar si la fecha es correcta</button>
</body>

</html> 